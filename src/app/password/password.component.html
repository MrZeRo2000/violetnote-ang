<div class="container text-center" *ngIf="loading">
  <fa-icon [icon]="['fas', 'spinner']" [spin]="true" transform="grow-12"></fa-icon>
</div>

<div class="container" *ngIf="passDataFileInfo && !loading">
  <form class="form-group">
    <div class="input-group mt-4">
      <div class="input-group-prepend">
        <div class="input-group-text"><fa-icon [icon]="['fas', 'lock']"></fa-icon></div>
      </div>
      <input
        #password
        type="password"
        class="form-control shadow-none"
        name="inputPassword"
        placeholder="Password"
        (keyup)="onPasswordKeyUp($event)"
        [(ngModel)] = "inputPassword"
      >
      <div class="input-group-append" *ngIf="passDataFileInfo.exists">
        <button type="button" class="btn btn-outline-primary" (click)="onSubmitPassword()"><fa-icon [icon]="['fas', 'sign-in-alt']"></fa-icon></button>
      </div>
    </div>
    <div class="input-group mt-4" *ngIf="!passDataFileInfo.exists">
      <div class="input-group-prepend">
        <div class="input-group-text"><fa-icon [icon]="['fas', 'lock']"></fa-icon></div>
      </div>
      <input
        type="password"
        class="form-control shadow-none"
        name="inputPasswordRetype"
        placeholder="Retype password"
        (keyup)="onPasswordKeyUp($event)"
        [(ngModel)] = "inputPasswordRetype"
      >
    </div>

    <div class="mt-4" *ngIf="!passDataFileInfo.exists">
      <button type="button" class="btn btn-outline-primary w-100" (click)="onSubmitPassword()"><fa-icon [icon]="['fas', 'sign-in-alt']"></fa-icon> Submit</button>
    </div>

    <div class="mt-2">
      <div class="custom-control custom-radio custom-control-inline" *ngIf="passDataFileInfo.exists">
        <input type="radio" id="dataModeView" name="dataMode" class="custom-control-input" [(ngModel)]="operationMode" [value]="OperationMode.OM_VIEW">
        <label class="custom-control-label" for="dataModeView">View</label>
      </div>
      <div class="custom-control custom-radio custom-control-inline" *ngIf="passDataFileInfo.exists">
        <input type="radio" id="dataModeEdit" name="dataMode" class="custom-control-input" [(ngModel)]="operationMode" [value]="OperationMode.OM_EDIT">
        <label class="custom-control-label" for="dataModeEdit">Edit</label>
      </div>
    </div>

  </form>
</div>
